/*! Built with http://stenciljs.com (es5) */

window['stenciljs-virtual-scroll'].loadStyles("fetch-helper",".cover{position:relative;width:150px;height:150px;background-size:cover;margin:0 auto}.title{font-size:15px;height:40px;text-align:center}.cover:after{content:\"\";display:block;padding-bottom:67%}.reload,.scrolling{position:absolute;top:0;margin:10px;padding:10px;background:#ccc;cursor:pointer;z-index:1}.scrolling{right:0}.reload{left:0}\nfetch-helper.hydrated{visibility:inherit}");
window["stenciljs-virtual-scroll"].loadComponents("f3hcuaru",function(t,e,n,o){"use strict";var i=function(){function t(){this.list=[],this.selector="",this.virtual=[],this.changed=[]}return t.prototype.componentWillLoad=function(){this.request()},t.prototype.request=function(){var t=this,e={};e["Content-Type"]="application/json",e.token="kRuGZ3Xd";var n={method:"GET",mode:"cors",headers:new Headers(e)},o=new Request("https://jsonplaceholder.typicode.com/photos",n);fetch(o).then(function(t){return t.json()}).then(function(e){e.splice(0,50).map(function(e){e.index=t.list.length,t.list=t.list.concat([e])});var n=t.el.querySelector("virtual-scroll");n.list=t.list,n.addEventListener("toBottom",function(){t.lazyRequest()}),n.addEventListener("update",function(e){console.log("update"),t.virtual=e.detail,t.changed=t.changed.concat([""])})})},t.prototype.lazyRequest=function(){var t=this,e={};e["Content-Type"]="application/json";var n={method:"GET",mode:"cors",headers:new Headers(e)},o=new Request("https://jsonplaceholder.typicode.com/photos",n);fetch(o).then(function(t){return t.json()}).then(function(e){setTimeout(function(){e.splice(0,50).map(function(e){e.index=t.list.length,t.list=t.list.concat([e])});var n=t.el.querySelector("virtual-scroll");n.list=t.list,t.list.length>200?n.setInfinateFinally():n.setInfinateOn()},3e3)})},t.prototype.reload=function(t){var e=this,n=this.el.querySelector("virtual-scroll");n.list=[],n.clear(),this.changed=this.changed.concat([""]),setTimeout(function(){var t={};t["Content-Type"]="application/json";var n={method:"GET",mode:"cors",headers:new Headers(t)},o=new Request("https://jsonplaceholder.typicode.com/photos",n);fetch(o).then(function(t){return t.json()}).then(function(t){t.splice(0,50).map(function(t){t.index=e.list.length,e.list=e.list.concat([t])});var n=e.el.querySelector("virtual-scroll");n.list=e.list,e.list.length>200?n.setInfinateFinally():n.setInfinateOn()})},2e3)},t.prototype.scrolling=function(){this.el.querySelector("virtual-scroll").scrollToNode(25,1e3,-50)},t.prototype.render=function(){return[e("div",{onClick:this.reload.bind(this),class:"reload"},"reload"),e("div",{onClick:this.scrolling.bind(this),class:"scrolling"},"scrolling"),e("div",{class:"virtual-container"},e("virtual-scroll",{"bottom-offset":"5","virtual-offset-end":"5",selector:this.selector},e("div",{slot:"virtual",class:"virtual-slot"},this.virtual.map(function(t,n){return e("div",{class:"offer virtual-item",id:t.index},e("div",{style:{backgroundImage:"url("+t.thumbnailUrl+")"},class:"cover"}),e("div",{class:"title"},t.index),e("div",{class:"title"},t.title))})),e("div",{slot:"loader"},"loading...")))]},t}();t["fetch-helper"]=i},["fetch-helper",[["changed",5,0,1],["el",7,0,1],["list",5,0,1],["selector",1,1,2]],{}]);;