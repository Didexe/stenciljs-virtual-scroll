/*! Built with http://stenciljs.com */

window['stenciljs-virtual-scroll'].loadStyles("virtual-scroll",".vscroll.inner{overflow-y:auto;height:100%}.vscroll.external{overflow-y:hidden}.vscroll{overflow-x:hidden;position:relative;display:block}.vscroll .vscroll-back{width:1px;opacity:0}.vscroll .vscroll-content{top:0;left:0;width:100%;position:absolute}.vscroll .vscroll-content.inner{height:100%}.infinate-finally div[slot=loader]{display:none}\nvirtual-scroll.hydrated{visibility:inherit}");
window["stenciljs-virtual-scroll"].loadComponents("li2jcedb",function(t,i,s,e){"use strict";class n{constructor(){this.list=[],this.selector="",this.bottomOffset=0,this.changed=[],this.position=0,this.topPadding=0,this.totalHeight=0,this.bottomOffsetIndex=3,this.listDimensions=[],this.infinateOn=!0,this.infinateFinally=!1,this.initRender=!1,this.vscrollOffsetTop=0,this.contentOffsetTop=0}dataDidChangeHandler(){this.list.map((t,i)=>{t.index||(t.index=i)}),this.updateVirtual(!0),this._addDimensions()}componentDidLoad(){this.selector.length>0?this.parentScroll=document.querySelector("."+this.selector):this.parentScroll=this.el.querySelector(".vscroll"),this.init()}componentDidUnload(){this.unwatch()}componentWillLoad(){}init(){this.first=null,this.last=null,this.topPadding=0,this.totalHeight=0,this.listDimensions=[],this.position=0;let t=this.parentScroll;this.contentOffsetTop=t?t.offsetTop:0;let i=this.el.querySelector(".vscroll");this.vscrollOffsetTop=i?i.offsetTop:0,this.scrollEventSubscriber=this.parentScroll.addEventListener("scroll",t=>{this.position=this.parentScroll.scrollTop-this.vscrollOffsetTop,this.updateVirtual()})}unwatch(){this.scrollEventSubscriber&&this.scrollEventSubscriber.unsubscribe()}updateVirtual(t=!1){let i=this.first?this.first.rindex:0,s=this.last?this.last.rindex:0;if(this.first=this.listDimensions.filter(t=>this.position>=t.start&&this.position<t.end)[0],this.last=this.listDimensions.filter(t=>this.position+this.parentScroll.clientHeight>=t.start&&this.position+this.parentScroll.clientHeight<t.end)[0],this.last||(this.last=this.listDimensions[this.listDimensions.length-1]),this.first&&this.last){this.topPadding=this.first.start;let e=this.list.slice(this.first.rindex,this.last.rindex+this.bottomOffsetIndex);(i!=this.first.rindex||s!=this.last.rindex||t)&&(this.update.emit(e),this.changed=[...this.changed,""])}else{let t=this.list.slice(0,20);this.update.emit(t),this.changed=[...this.changed,""]}this.last&&this.last.rindex>=this.list.length-1-this.bottomOffset&&this.infinateOn&&!this.infinateFinally&&(this.infinateOn=!1,this.toBottom.emit(this.position))}setInfinateOn(){this.infinateOn=!0}setInfinateFinally(){this.infinateFinally=!0}_addDimensions(){let t=this.totalHeight,i=this.el.querySelectorAll(".virtual-slot .virtual-item");if(i.length>0)for(let t=0;t<=i.length-1;t++){let s=i[t],e=s.id;this.listDimensions[e]||(this._addNewDimension(s.offsetHeight,e),this.totalHeight=this.listDimensions[this.listDimensions.length-1].end)}return this.totalHeight!=t}_addNewDimension(t,i){let s=this.listDimensions.length>0?this.listDimensions[this.listDimensions.length-1].end:0;this.listDimensions.push({height:t,start:s,end:s+t,rindex:parseInt(i)})}_testDimensions(){let t=this.el.querySelector(".virtual-slot").childNodes,i=this.first&&this.first.rindex>0?this.first.rindex:0;this.list.map((s,e)=>{this.listDimensions[e]&&t[e-i]&&t[e-i].offsetHeight!=this.listDimensions[e].height&&console.warn("One or more nodes change height after calculation dimensions. Check scroll",e)})}componentDidUpdate(){let t=this._addDimensions();this.initRender?(t&&(this.changed=[...this.changed,""]),this._testDimensions()):(this.initRender=!0,this.updateVirtual())}render(){return i("div",{class:"vscroll "+(this.selector.length>0?"external ":"inner ")+(this.infinateFinally?"infinate-finally":"")},i("div",{class:"vscroll-back",style:{height:this.totalHeight+"px"}}),i("div",{class:"vscroll-content "+(this.selector.length>0?"external":"inner"),style:{transform:"translateY("+this.topPadding+"px)"}},i("slot",{name:"virtual"})),i("slot",{name:"loader"}))}}t["virtual-scroll"]=n},["virtual-scroll",[["bottomOffset",1,1,4],["changed",5,0,1],["el",7,0,1],["list",1,1,1],["selector",1,1,2],["setInfinateFinally",6,0,1],["setInfinateOn",6,0,1]],{},[["toBottom"],["update"]],0,[["list","dataDidChangeHandler"]]]);;